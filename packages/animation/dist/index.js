"use strict";function t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function e(t,e){return t(e={exports:{}},e.exports),e.exports}Object.defineProperty(exports,"__esModule",{value:!0});var i=e((function(t){function e(i){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})),o=t(i),r=e((function(t){t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t},t.exports.__esModule=!0,t.exports.default=t.exports}));t(r);var n=e((function(t){function e(){return"undefined"!=typeof Reflect&&Reflect.get?(t.exports=e=Reflect.get,t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=e=function(t,e,i){var o=r(t,e);if(o){var n=Object.getOwnPropertyDescriptor(o,e);return n.get?n.get.call(arguments.length<3?t:i):n.value}},t.exports.__esModule=!0,t.exports.default=t.exports),e.apply(this,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})),s=t(n),u=e((function(t){function e(i,o){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(i,o)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}));t(u);var l=t(e((function(t){t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports}))),a=e((function(t){function e(i){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}));t(a);var h=e((function(t){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports}));t(h);var c=t(e((function(t){var e=a.default;t.exports=function(t,i){if(i&&("object"===e(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return h(t)},t.exports.__esModule=!0,t.exports.default=t.exports}))),f=t(e((function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports}))),p=t(e((function(t){function e(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}t.exports=function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports})));function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,r=o(t);if(e){var n=o(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return c(this,i)}}var d={queue:[],timer:0,isRunning:!1,register:function(t){-1==this.queue.indexOf(t)&&(this.queue.push(t),this.run())},unregister:function(t){var e=this.queue.indexOf(t);-1!=e&&(this.queue.splice(e,1),this.queue.length<1&&this.stop())},run:function(){this.isRunning||(this.isRunning=!0,this.timer=Date.now(),requestAnimationFrame(this.update.bind(this)))},stop:function(){this.isRunning&&(this.isRunning=!1)},update:function(){if(this.isRunning){var t=Date.now(),e=t-this.timer;this.timer=t;for(var i=this.queue.concat(),o=0,r=i.length;o<r;++o)i[o].update(e);requestAnimationFrame(this.update.bind(this))}}},y=function(){function t(){f(this,t),this.time=0,this.totalTime=0,this.isComplete=!1,this.callback=null}return p(t,[{key:"duration",value:function(t){return this.totalTime=t,this}},{key:"start",value:function(){d.register(this)}},{key:"update",value:function(t){}},{key:"onComplete",value:function(t){return this.callback=t,this}},{key:"stop",value:function(){this.isComplete||d.register(this)}}]),t}(),m=function(t){l(i,y);var e=x(i);function i(t){var o;return f(this,i),(o=e.call(this)).target=t,o.ox=o.target.offsetLeft,o.oy=o.target.offsetTop,o.dx=o.ox,o.dy=o.oy,o.isFromCurrent=!1,o}return p(i,[{key:"startFrom",value:function(t,e){return this.target.style.left=t+"px",this.target.style.top=e+"px",this.ox=t,this.oy=e,this.isFromCurrent=!1,this}},{key:"startFromCurrent",value:function(){return this.isFromCurrent=!0,this}},{key:"moveto",value:function(t,e){return this.dx=t,this.dy=e,this}},{key:"start",value:function(){this.isFromCurrent&&(this.ox=this.target.offsetLeft,this.oy=this.target.offsetTop),s(o(i.prototype),"start",this).call(this)}},{key:"update",value:function(t){if(this.time+=t,this.time>this.totalTime)this.callback&&this.callback(),this.target.style.left=this.dx+"px",this.target.style.top=this.dy+"px",d.unregister(this),this.isComplete=!0;else{var e=Math.floor((this.dx-this.ox)*this.time/this.totalTime+this.ox),i=Math.floor((this.dy-this.oy)*this.time/this.totalTime+this.oy);this.target.style.left=e+"px",this.target.style.top=i+"px"}}}]),i}(),v=function(t){l(i,y);var e=x(i);function i(){return f(this,i),e.call(this)}return p(i,[{key:"update",value:function(t){this.time+=t,this.time>this.totalTime&&(this.callback&&this.callback(),this.callback=null,d.unregister(this),this.isComplete=!0)}}]),i}(),g=function(t){l(i,y);var e=x(i);function i(t){var o;return f(this,i),(o=e.call(this)).target=t,o.oleft=o.target.scrollLeft,o.otop=o.target.scrollTop,o.dleft=o.oleft,o.dtop=o.otop,o}return p(i,[{key:"scrollTo",value:function(t,e){return this.dleft=t,this.dtop=e,this}},{key:"update",value:function(t){if(this.time+=t,this.time>this.totalTime)this.callback&&this.callback(),this.target.scrollLeft=this.dleft,this.target.scrollTop=this.dtop,d.unregister(this),this.isComplete=!0;else{var e=Math.floor((this.dleft-this.oleft)*this.time/this.totalTime+this.oleft),i=Math.floor((this.dtop-this.otop)*this.time/this.totalTime+this.otop);this.target.scrollLeft=e,this.target.scrollTop=i}}}]),i}(),b=function(){function t(){f(this,t),this.callback=null,this.oncancle=null,this.stepCallBack=null,this.index=0,this.queue=[],this.isRunning=!1,this.runner=null}return p(t,[{key:"onComplete",value:function(t){return this.callback=t,this}},{key:"onCancle",value:function(t){return this.oncancle=t,this}},{key:"addAnimate",value:function(t){return this.queue.push(t),this}},{key:"start",value:function(){this.isRunning||(this.isRunning=!0,this.next())}},{key:"next",value:function(){if(this.stepCallBack&&this.stepCallBack(),this.stepCallBack=null,this.isRunning){if(this.index>=this.queue.length)return this.isRunning=!1,this.callback&&this.callback(),void(this.callback=null);this.runner=this.queue[this.index++],this.runner?(this.stepCallBack=this.runner.callback,this.runner.callback=this.next.bind(this),this.runner.start()):this.next()}}},{key:"stop",value:function(){this.isRunning=!1,this.runner&&this.runner.stop(),this.runner=null;for(var t=this.index,e=this.queue.length;t<e;++t)this.queue[t].stop();this.queue.length=0,this.oncancle&&this.oncancle(),this.oncancle=null}}]),t}();exports.AnimateGroup=b,exports.MoveAnimate=m,exports.ScrollAnimate=g,exports.WaitAnimate=v;
